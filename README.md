# API –¥–ª—è –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –¢—É—Ä–Ω—ñ—Ä–∞–º–∏

–¶–µ –±–µ–∫–µ–Ω–¥-—Å–µ—Ä–≤—ñ—Å, —Ä–æ–∑—Ä–æ–±–ª–µ–Ω–∏–π –Ω–∞ FastAPI, –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –æ–Ω–ª–∞–π–Ω-—Ç—É—Ä–Ω—ñ—Ä–∞–º–∏. –ü—Ä–æ—î–∫—Ç –≤–∫–ª—é—á–∞—î —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—é –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤, —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ–º–∞–Ω–¥, —Ç—É—Ä–Ω—ñ—Ä—ñ–≤ —Ç–∞ —Ä–µ–∞–ª—ñ–∑—É—î –±–∞–∑–æ–≤—É –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫—É –≤–∑–∞—î–º–æ–¥—ñ—ó –º—ñ–∂ –Ω–∏–º–∏.

---

## ‚ú® –û—Å–Ω–æ–≤–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

* **–ê–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤**: –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è —Ç–∞ –≤—Ö—ñ–¥ —É —Å–∏—Å—Ç–µ–º—É –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é JWT-—Ç–æ–∫–µ–Ω—ñ–≤.
* **–£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–æ–º–∞–Ω–¥–∞–º–∏**: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞ –ø–µ—Ä–µ–≥–ª—è–¥ –∫–æ–º–∞–Ω–¥ (–∑–∞—Ö–∏—â–µ–Ω—ñ –µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏).
* **–£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ç—É—Ä–Ω—ñ—Ä–∞–º–∏**: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞ –ø–µ—Ä–µ–≥–ª—è–¥ —Ç—É—Ä–Ω—ñ—Ä—ñ–≤ (–∑–∞—Ö–∏—â–µ–Ω—ñ –µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏).
* **–ë—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∞**: –ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –ø—Ä–∏—î–¥–Ω–∞—Ç–∏—Å—è –¥–æ —ñ—Å–Ω—É—é—á–æ—ó –∫–æ–º–∞–Ω–¥–∏.
* **–ë–∞–∑–∞ –¥–∞–Ω–∏—Ö**: –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è SQLAlchemy –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –±–∞–∑–æ—é –¥–∞–Ω–∏—Ö SQLite.
* **–í–∞–ª—ñ–¥–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö**: Pydantic –¥–ª—è –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó –≤—Ö—ñ–¥–Ω–∏—Ö —Ç–∞ –≤–∏—Ö—ñ–¥–Ω–∏—Ö –¥–∞–Ω–∏—Ö.
* **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è**: –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è API –¥–æ—Å—Ç—É–ø–Ω–∞ –∑–∞ –∞–¥—Ä–µ—Å–æ—é `/docs`.

---

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—á–Ω–∏–π —Å—Ç–µ–∫

* **Python 3.10+**
* **FastAPI**: –û—Å–Ω–æ–≤–Ω–∏–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è API.
* **Uvicorn**: ASGI-—Å–µ—Ä–≤–µ—Ä –¥–ª—è –∑–∞–ø—É—Å–∫—É –¥–æ–¥–∞—Ç–∫—É.
* **SQLAlchemy**: ORM –¥–ª—è –≤–∑–∞—î–º–æ–¥—ñ—ó –∑ –±–∞–∑–æ—é –¥–∞–Ω–∏—Ö.
* **Pydantic**: –î–ª—è –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó –¥–∞–Ω–∏—Ö.
* **Passlib & python-jose**: –î–ª—è —Ö–µ—à—É–≤–∞–Ω–Ω—è –ø–∞—Ä–æ–ª—ñ–≤ —Ç–∞ —Ä–æ–±–æ—Ç–∏ –∑ JWT-—Ç–æ–∫–µ–Ω–∞–º–∏.

---

## üöÄ –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–∞ –∑–∞–ø—É—Å–∫

#### 1. –ö–ª–æ–Ω—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π

```bash
git clone <your-repository-url>
cd <project-folder>
```

#### 2. –°—Ç–≤–æ—Ä—ñ—Ç—å —Ç–∞ –∞–∫—Ç–∏–≤—É–π—Ç–µ –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ

* **Windows**:
    ```bash
    python -m venv venv
    .\venv\Scripts\activate
    ```
* **macOS / Linux**:
    ```bash
    python3 -m venv venv
    source venv/bin/activate
    ```

#### 3. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ

–ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ —É –≤–∞—Å —î —Ñ–∞–π–ª `requirements.txt` —ñ –≤–∏–∫–æ–Ω–∞–π—Ç–µ –∫–æ–º–∞–Ω–¥—É:
```bash
pip install -r requirements.txt
```

#### 4. –ó–∞–ø—É—Å—Ç—ñ—Ç—å —Å–µ—Ä–≤–µ—Ä

–î–ª—è –∑–∞–ø—É—Å–∫—É —Å–µ—Ä–≤–µ—Ä–∞ –≤ —Ä–µ–∂–∏–º—ñ —Ä–æ–∑—Ä–æ–±–∫–∏ –∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–º –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è–º –≤–∏–∫–æ–Ω–∞–π—Ç–µ:
```bash
uvicorn main:app --reload
```
–°–µ—Ä–≤–µ—Ä –±—É–¥–µ –¥–æ—Å—Ç—É–ø–Ω–∏–π –∑–∞ –∞–¥—Ä–µ—Å–æ—é `http://127.0.0.1:8000`.

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è —Ç–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è API

–ü—ñ—Å–ª—è –∑–∞–ø—É—Å–∫—É —Å–µ—Ä–≤–µ—Ä–∞ –≤—ñ–¥–∫—Ä–∏–π—Ç–µ —É –±—Ä–∞—É–∑–µ—Ä—ñ [http://127.0.0.1:8000/docs](http://127.0.0.1:8000/docs) –¥–ª—è –¥–æ—Å—Ç—É–ø—É –¥–æ —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—ó –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó Swagger UI.

### –ü—Ä–∏–∫–ª–∞–¥ —Ä–æ–±–æ—á–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—É:

1.  **–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è**: –°—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ —á–µ—Ä–µ–∑ –µ–Ω–¥–ø–æ—ñ–Ω—Ç `POST /users/`.
2.  **–õ–æ–≥—ñ–Ω**: –û—Ç—Ä–∏–º–∞–π—Ç–µ `access_token` —á–µ—Ä–µ–∑ –µ–Ω–¥–ø–æ—ñ–Ω—Ç `POST /token`, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ —Å–≤—ñ–π email —Ç–∞ –ø–∞—Ä–æ–ª—å.
3.  **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è**: –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –∫–Ω–æ–ø–∫—É "Authorize" —É –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó —Ç–∞ –≤—Å—Ç–∞–≤—Ç–µ —Ç–æ–∫–µ–Ω —É —Ñ–æ—Ä–º–∞—Ç—ñ `Bearer <–≤–∞—à_—Ç–æ–∫–µ–Ω>`.
4.  **–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ–º–∞–Ω–¥–∏**: –í–∏–∫–æ–Ω–∞–π—Ç–µ –∑–∞–ø–∏—Ç –¥–æ `POST /teams/`, —â–æ–± —Å—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤—É –∫–æ–º–∞–Ω–¥—É.
5.  **–ü—Ä–∏—î–¥–Ω–∞–Ω–Ω—è –¥–æ –∫–æ–º–∞–Ω–¥–∏**: –í–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ –µ–Ω–¥–ø–æ—ñ–Ω—Ç `POST /teams/{team_id}/join`, —â–æ–± –ø—Ä–∏—î–¥–Ω–∞—Ç–∏—Å—è –¥–æ —Å—Ç–≤–æ—Ä–µ–Ω–æ—ó –∫–æ–º–∞–Ω–¥–∏.

### –û—Å–Ω–æ–≤–Ω—ñ –µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏:

| –ú–µ—Ç–æ–¥ | –ï–Ω–¥–ø–æ—ñ–Ω—Ç                   | –û–ø–∏—Å                               | –ü–æ—Ç—Ä–µ–±—É—î –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó |
| :---- | :------------------------- | :--------------------------------- | :------------------- |
| POST  | `/users/`                  | –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –Ω–æ–≤–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞      | –ù—ñ                   |
| POST  | `/token`                   | –û—Ç—Ä–∏–º–∞–Ω–Ω—è JWT-—Ç–æ–∫–µ–Ω–∞ (–ª–æ–≥—ñ–Ω)       | –ù—ñ                   |
| GET   | `/users/me/`               | –û—Ç—Ä–∏–º–∞—Ç–∏ –¥–∞–Ω—ñ –ø–æ—Ç–æ—á–Ω–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ | **–¢–∞–∫** |
| POST  | `/teams/`                  | –°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤—É –∫–æ–º–∞–Ω–¥—É              | **–¢–∞–∫** |
| GET   | `/teams/`                  | –û—Ç—Ä–∏–º–∞—Ç–∏ —Å–ø–∏—Å–æ–∫ —É—Å—ñ—Ö –∫–æ–º–∞–Ω–¥        | –ù—ñ                   |
| POST  | `/teams/{team_id}/join`    | –ü—Ä–∏—î–¥–Ω–∞—Ç–∏—Å—è –¥–æ –∫–æ–º–∞–Ω–¥–∏             | **–¢–∞–∫** |
| POST  | `/tournaments/`            | –°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤–∏–π —Ç—É—Ä–Ω—ñ—Ä              | **–¢–∞–∫** |
| GET   | `/tournaments/`            | –û—Ç—Ä–∏–º–∞—Ç–∏ —Å–ø–∏—Å–æ–∫ —É—Å—ñ—Ö —Ç—É—Ä–Ω—ñ—Ä—ñ–≤      | –ù—ñ                   |